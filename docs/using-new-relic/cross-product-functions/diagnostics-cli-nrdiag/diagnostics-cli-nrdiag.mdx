---
title: Diagnostics CLI (nrdiag)
tags:
  - Using New Relic
  - Cross-product functions
  - Diagnostics CLI (nrdiag)
metaDescription: Use New Relic Diagnostics CLI to automatically diagnose common problems with New Relic agents and send the results to Support.
redirects:
  - /docs/new-relic-diagnostics
  - /docs/agents/manage-apm-agents/troubleshooting/new-relic-diagnostics
  - /docs/using-new-relic/cross-product-functions/troubleshooting/new-relic-diagnostics
  - /docs/using-new-relic/cross-product-functions/diagnostics-cli-nrdiag/diagnostics-cli-nrdiag-old
---

<ButtonLink
  role="button"
  to="https://download.newrelic.com/nrdiag/nrdiag_latest.zip"
  variant="primary"
>
  Download latest version
</ButtonLink>

The Diagnostics CLI (`nrdiag`) is a utility that automatically detects common problems with New Relic products. If the Diagnostics CLI detects a problem, it suggests troubleshooting steps. The Diagnostics CLI can also automatically attach troubleshooting data to a New Relic Support ticket.

The Diagnostics CLI is open source and is located in [GitHub](https://github.com/newrelic/newrelic-diagnostics-cli).

For additional troubleshooting steps for your agent, check out [Not seeing data](/docs/agents/manage-apm-agents/troubleshooting/not-seeing-data).

![New Relic Diagnostics - Ubuntu Linux](./images/2020-06-03-16.01.42.gif "New Relic Diagnostics - Ubuntu Linux")

<figcaption>
  Here's an example of the Diagnostics CLI running on Ubuntu Linux. The program checks your New Relic agent configurations for issues and generates zipped troubleshooting logs that are ready to be attached to support tickets.
</figcaption>

## Compatibility

The Diagnostics CLI is available for Linux, macOS, and Windows. It can detect common configuration issues for:

* **APM**: Available for all APM agents except C SDK. For the Go agent, only basic connectivity checks are available.
* **Browser monitoring**: Browser agent detection
* **Infrastructure monitoring**: Linux and Windows agents
* **Mobile agents**: iOS and Android
* **Synthetic monitoring**: Containerized private minions (CPM)

The Diagnostics CLI does not require `superuser` or `admin` permissions to run, although we recommend those permissions for some checks. It will return an error if it does not have permissions to read the files it scans.

## Get started

To use the Diagnostics CLI:

1. Run the Diagnostics CLI, including [task suites](/docs/using-new-relic/cross-product-functions/diagnostics-cli-nrdiag/run-diagnostics-cli-nrdiag#suites) and [command line options](/docs/using-new-relic/cross-product-functions/diagnostics-cli-nrdiag/pass-command-line-options-nrdiag) as needed.
2. Include an [attachment key](/docs/using-new-relic/cross-product-functions/diagnostics-cli-nrdiag/run-diagnostics-cli-nrdiag#attachment-key) when you upload the results to your [Support ticket](/docs/using-new-relic/cross-product-functions/diagnostics-cli-nrdiag/run-diagnostics-cli-nrdiag#attach-ticket-results).
3. Optional: Validate your [config file settings](/docs/using-new-relic/cross-product-functions/diagnostics-cli-nrdiag/validate-config-file-settings-nrdiag).
4. Interpret the [output](/docs/using-new-relic/cross-product-functions/diagnostics-cli-nrdiag/interpret-nrdiag-output).

Like any other New Relic tool, the Diagnostics CLI service is designed to protect you and your customers' data privacy. For detailed information, see our [Diagnostics CLI licensing and security](/docs/using-new-relic/cross-product-functions/diagnostics-cli-nrdiag/diagnostics-cli-licensing-security) documentation.
