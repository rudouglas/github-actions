---
subject: Node.js agent
releaseDate: '2018-01-18'
version: 2.6.1
downloadLink: 'https://www.npmjs.com/package/newrelic'
---

### Improvements

* Added regression test for promise instrumentation and stack overflows.

### Bug fixes

* Fixed naming bug in Restify instrumentation regarding parameters to `next`.

  The instrumentation previously considered any truthy value passed to `next` to be an error. It is possible to pass a string or boolean to `next` in Restify to control further routing of the request. This would cause the middleware's mounting path to be erroneously appended to the transaction name.
* Fixed access to `bluebird.coroutine.addYieldHandler`.

  This was accidentally not copied by our instrumentation making access to the function fail. This has been resolved and tests expanded to ensure no other properties were missed.
