---
subject: Node.js agent
releaseDate: '2017-01-25'
version: 2.4.0-beta
downloadLink: 'https://www.npmjs.com/package/@newrelic/beta-agent'
---

### Improvements

* Rewrote the `cassandra-cql` and `memcached` instrumentations using the `DatastoreShim`.
* Improved instrumentation matching.

  Previously, the agent would determine which instrumentation would run for a given module being loaded using the basename of the file path. This lead to false positives (e.g. `myapp/lib/express.js` would trigger the express instrumentation) which we previously just ignored. Matches are now determined using the string passed to `require`. This means you can now match local relative paths (`./lib/something`) as well as package-relative paths (`amqplib/callback_api`).
