---
subject: Node.js agent
releaseDate: '2018-07-09'
version: 4.3.0
---

### Improvements

* Added `nonce` option for `newrelic.getBrowserTimingHeader()`

  This allows people to pass in a string to be injected as the `nonce` property of the generated script tag. Special thanks to Jo√£o Vieira (@joaovieira) for contributing this feature!
* Expose the External segment on the `http` request instance for outbound calls.

### Fixes

* Added check to mark Hapi `'onPreResponse'` extensions as error handlers.

  Previously, the agent was unable to mark any Hapi errors as handled, even if they were, resulting in inaccurate reporting. This change assumes that `'onPreResponse'` extensions act as error handlers, so errors are only reported if they persist to the final response.
