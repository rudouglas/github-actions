---
subject: Node.js agent
releaseDate: '2018-03-27'
version: 3.3.0
---

### New features

* Added `newrelic.startSegment()`, which replaces `newrelic.createTracer()`.

  This new API method allows you to create custom segments using either callbacks or promises.

### Bug fixes

* Fixed bug in `pre` route config option in Hapi instrumentation.

  Only applies to Hapi v16 and below. The pre handler wrapping was not properly returning in cases when the element was a string referring to a registered server method, and as a result these elements would be replaced with `undefined`.
