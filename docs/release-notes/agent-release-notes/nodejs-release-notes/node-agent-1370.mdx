---
subject: Node.js agent
releaseDate: '2017-02-09'
version: 1.37.0
downloadLink: 'https://www.npmjs.com/package/newrelic'
---

### New features

* The agent now reports event loop metrics on supported platforms.

  The agent will now record the number of event loop ticks per minute and CPU time spent in each tick. This feature requires v2.1.0 or higher of the optional `@newrelic/native-metrics` module, and is supported on Node versions 0.12, 4, 6, and 7.  
  You can read more about it on [our docs site!](https://docs.newrelic.com/docs/agents/nodejs-agent/supported-features/node-vm-measurements)

### Bug fixes

* The agent no longer creates a segment for each row returned from a PG query when the pg-query-stream module is used.
* Internal properties used in our promise instrumentation are now non-enumerable to prevent unexpected keys showing up for clients.
* Agent now uses safe stringification when encoding payloads in order to prevent an issue with circular references.
* Fixed issue with the agent holding the process open when retrying to connect to the collector.

### Improvements

* Removed io.js from our test suite, since it has not been supported for some time.
* Quieted a log message warning users about their own settings.
* Fixed typo in a log message. Thanks to Dave Bobak (@davebobak) for the contribution.
