---
subject: Node.js agent
releaseDate: '2019-07-31'
version: 5.11.0
downloadLink: 'https://www.npmjs.com/package/newrelic'
---

## New Features

* Implements Expected and Ignored Errors functionality
* Adds support for scoped package name introduced in hapi v18 (@hapi/hapi).

  This will provide functionality at parity with instrumentation for hapi v17. Any new features may not yet be supported.

## Improvements

* Bumps jsdoc and lodash dev dependency to avoid upstream vulnerability warning.
* Adds detailed logging through harvest/collector code to increase supportability.

## Fixes

* Fixed bug where agent would count errors towards error metrics even if they were dropped due to the error collector being disabled.
* The agent will now properly track cached paths to files in loaded modules on Node versions >10.

  As of Node v11, the path to a file in a module being loaded will only be resolved on the first load; subsequent resolution of that file will use a cached value. The agent records this resolved path and uses it for relative file look ups in order to deep link into modules using `Shim#require`. Since the agent couldn't reliably get at the path on the subsequent calls to require, it now replicates the caching logic and hold onto the resolved path for a given file.
